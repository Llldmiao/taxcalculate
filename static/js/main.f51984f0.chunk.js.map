{"version":3,"sources":["App.js","index.js"],"names":["calWelfareAll","originSalary","pension","medical","unemployee","injury","maternity","housingFund","taxPerYear","originSalaryAll","welfareAll","taxRate","fastNum","salsryPayTax","App","useState","month","originSalaryInfo","setOriSalaryInfo","welfare","setWelfare","perYear","perMonth","bouns","afterTaxSalary","setAfterTaxSalary","salaryChange","value","type","isNaN","Number","prev","console","log","welfareChange","className","id","onChangeCapture","e","target","style","width","defaultValue","onChange","onClick","Math","round","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f51984f0.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { Input, Button } from 'antd';\nimport 'antd/dist/antd.css';\nimport './App.css';\n\n//计算一年缴纳的五险一金\nfunction calWelfareAll(originSalary, pension, medical, unemployee, injury, maternity, housingFund) {\n  return originSalary*(pension + medical + unemployee + injury + maternity + housingFund)/100 * 12\n}\n\n//计算一年应缴个人所得税额\nfunction taxPerYear(originSalaryAll, welfareAll) {\n  let taxRate = 0; //税率\n  let fastNum = 0; //速算扣除数\n  //应纳税所得额 = 每一纳税年度的收入额 - 费用六万元 - 专项扣除 - 专项附加扣除 - 依法确定的其他扣除\n  let salsryPayTax = (originSalaryAll - 60000 - welfareAll - 1500*12 - 0);\n  if(salsryPayTax <= 36000) {\n    taxRate = 0.03;\n  } else if(salsryPayTax <= 144000) {\n    taxRate = 0.1;\n    fastNum = 2520;\n  } else if(salsryPayTax <= 300000) {\n    taxRate = 0.2;\n    fastNum = 16920;\n  } else if(salsryPayTax <= 420000) {\n    taxRate = 0.25;\n    fastNum = 31920;\n  } else if(salsryPayTax <= 660000) {\n    taxRate = 0.3;\n    fastNum = 52920;\n  } else if(salsryPayTax <= 960000) {\n    taxRate = 0.35;\n    fastNum = 85920;\n  } else {\n    taxRate = 0.45;\n    fastNum = 181920;\n  }\n  return salsryPayTax*(taxRate) - fastNum;\n}\n\nfunction App() {\n  const [originSalaryInfo, setOriSalaryInfo] = useState({originSalary: 24000, month: 16});\n  const [welfare, setWelfare] = useState({pension: 8, medical: 2, unemployee: 0.2, injury: 0, maternity:0, housingFund: 12});\n\n  let {pension, medical, unemployee, injury, maternity, housingFund} = welfare;\n  let welfareAll = calWelfareAll(originSalaryInfo.originSalary, pension, medical, unemployee, injury, maternity, housingFund);\n  let originSalaryAll = originSalaryInfo.originSalary * originSalaryInfo.month;\n  const [afterTaxSalary, setAfterTaxSalary] = useState(()=> {\n    const perYear = originSalaryAll - taxPerYear(originSalaryAll, welfareAll) - welfareAll;\n    const perMonth = perYear / originSalaryInfo.month;\n    const bouns = perMonth * (originSalaryInfo.month - 12);\n    return {\n      perYear,\n      perMonth,\n      bouns\n    }\n  });\n\n  // useEffect(() => {\n  //   setAfterTaxSalary(() => {\n      \n  //     const perYear = originSalaryAll - taxPerYear(originSalaryAll, welfareAll) - welfareAll;\n  //     const perMonth = perYear / originSalaryInfo.month;\n  //     const bouns = perMonth * (originSalaryInfo.month - 12);\n  //     return {\n  //       perYear,\n  //       perMonth,\n  //       bouns\n  //     }\n  //   })\n  // }, [originSalaryInfo, welfareAll, originSalaryAll]);\n  \n  const salaryChange = (value, type)=>{\n    if(!isNaN(Number(value))){\n      if(type === 'salary') { //税前每月工资改变\n        setOriSalaryInfo((prev) => { return {originSalary:Number(value), month:prev.month}})\n        welfareAll = calWelfareAll(originSalaryInfo.originSalary, pension, medical, unemployee, injury, maternity, housingFund)\n        console.log(originSalaryInfo)\n        \n      }\n      else { //月数改变\n        setOriSalaryInfo((prev) => { return {originSalary:prev.originSalary, month:Number(value)}})\n        welfareAll = calWelfareAll(originSalaryInfo.originSalary, pension, medical, unemployee, injury, maternity, housingFund)\n        console.log(originSalaryInfo)\n        // setAfterTaxSalary(() => taxPerYear(originSalaryInfo.originSalary, originSalaryInfo.month, welfareAll))\n      }\n      \n    }\n  }\n\n  const welfareChange = (value, type)=>{\n    value = Number(value);\n    if(!isNaN(value)) {\n      switch (type) {\n        case 'pension':\n          setWelfare({...welfare, pension: value})\n          break;\n        case 'medical':\n          setWelfare({...welfare, medical: value})\n          break;\n        case 'unemployee':\n          setWelfare({...welfare, unemployee: value})\n          break;\n        case 'injury':\n          setWelfare({...welfare, injury: value})\n          break;\n        case 'maternity':\n          setWelfare({...welfare, maternity: value})\n          break;\n        case 'housingFund':\n          setWelfare({...welfare, housingFund: value})\n          break;\n        default:\n      }\n      let {pension, medical, unemployee, injury, maternity, housingFund} = welfare;\n      welfareAll = calWelfareAll(originSalaryInfo.originSalary, pension, medical, unemployee, injury, maternity, housingFund)\n    }\n    \n  }\n\n  const calResult = () => {\n    console.log('111');\n    setAfterTaxSalary(() => {\n      \n      const perYear = originSalaryAll - taxPerYear(originSalaryAll, welfareAll) - welfareAll;\n      const perMonth = perYear / originSalaryInfo.month;\n      const bouns = perMonth * (originSalaryInfo.month - 12);\n      return {\n        perYear,\n        perMonth,\n        bouns\n      }\n    })\n  }\n  \n  return (\n    <div className=\"App\">\n      <div className=\"container\">\n        <div>\n          <label>税前每月工资</label><Input id='originSalary' value={originSalaryInfo.originSalary} onChangeCapture={(e) => salaryChange(e.target.value, 'salary')} style={{ width: 150 }} />\n          <label>月数</label><Input id='originSalary' defaultValue={originSalaryInfo.month} onChange={(e) => salaryChange(e.target.value, 'month')} style={{ width: 150 }} />\n          <hr/>\n        </div>\n        {/* <div>五险一金缴纳比例</div> */}\n        <div><label>养老保险</label><Input id='yanglao' defaultValue={pension} onChange={(e)=>welfareChange(e.target.value, 'pension')} style={{ width: 150 }} />%</div>\n        <div><label>医疗保险</label><Input id='yiliao' defaultValue={medical} onChange={(e)=>welfareChange(e.target.value, 'medical')} style={{ width: 150 }} />%</div>\n        <div><label>失业保险</label><Input id='shiye' defaultValue={unemployee} onChange={(e)=>welfareChange(e.target.value, 'unemployee')}  style={{ width: 150 }} />%</div>\n        <div><label>工伤保险</label><Input id='gongshang' defaultValue={injury} onChange={(e)=>welfareChange(e.target.value, 'injury')} style={{ width: 150 }} />%</div>\n        <div><label>生育保险</label><Input id='shengyu' defaultValue={maternity} onChange={(e)=>welfareChange(e.target.value, 'maternity')} style={{ width: 150 }} />%</div>\n        <div><label>住房公积金</label><Input id='gongjijin' defaultValue={housingFund} onChange={(e)=>welfareChange(e.target.value, 'housingFund')} style={{ width: 150 }} />%</div>\n        <hr/>\n        <Button type=\"primary\" id='claculate' onClick={calResult}>计算</Button>\n        <div><label>税后年薪</label><Input id='afterTaxSalary' value={Math.round(afterTaxSalary.perYear * 100) / 100} style={{ width: 150 }} /></div>\n        <div><label>税后月薪</label><Input id='afterTaxSalary' value={Math.round(afterTaxSalary.perMonth * 10000) / 10000} style={{ width: 150 }} /></div>\n        <div><label>年终奖</label><Input id='afterTaxSalary' value={Math.round(afterTaxSalary.bouns * 10000) / 10000} style={{ width: 150 }} /></div>\n      </div>\n      <footer>code by llldmiao</footer>\n      {/* 相关参考：http://gkml.samr.gov.cn/nsjg/bgt/202106/t20210610_330513.html\n        https://www.zhihu.com/question/24529019\n      */}\n    </div>\n    \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}